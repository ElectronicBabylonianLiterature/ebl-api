{
	"name": "EBL API Development",
	"image": "mcr.microsoft.com/devcontainers/universal:2",
	"features": {
		"ghcr.io/devcontainers/features/python:1": {
			"version": "3.9.23"
		},
		"ghcr.io/devcontainers-contrib/features/poetry:2": {
			"version": "latest"
		},
		"ghcr.io/devcontainers-contrib/features/go-task:1": {
			"version": "latest"
		}
	},
	"runArgs": ["--env-file", ".env"],
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-python.python",
				"mongodb.mongodb-vscode",
				"davidanson.vscode-markdownlint",
				"ms-azuretools.vscode-docker",
				"charliermarsh.ruff"
			]
		}
	},
	"forwardPorts": [8000],
	"portsAttributes": {
		"8000": {
			"label": "API",
			"onAutoForward": "ignore"
		}
	},
	"postCreateCommand": "bash .devcontainer/setup.sh",
	"postStartCommand": "mkdir -p /workspaces/data && mongod --dbpath /workspaces/data --bind_ip 127.0.0.1 --fork --logpath /workspaces/data/mongodb.log"
}
